# ConfigMap and Secrets for Task Manager Application
# NOTE: In production, use sealed-secrets or external-secrets for sensitive data.

apiVersion: v1
kind: ConfigMap
metadata:
  name: task-manager-config
  labels:
    app: task-manager
data:
  DATABASE_URL: "jdbc:postgresql://postgres:5432/taskmanager"
  JPA_DDL_AUTO: "update"
  JPA_SHOW_SQL: "false"

---
# Application Secrets
# To encode: echo -n 'your-value' | base64

apiVersion: v1
kind: Secret
metadata:
  name: task-manager-secret
  labels:
    app: task-manager
type: Opaque
data:
  # echo -n 'postgres' | base64 = cG9zdGdyZXM=
  DATABASE_USERNAME: cG9zdGdyZXM=
  DATABASE_PASSWORD: cG9zdGdyZXM=

---
# GHCR Pull Secret
# Create using: kubectl create secret docker-registry ghcr-secret \
#   --docker-server=ghcr.io \
#   --docker-username=AaronCallanga \
#   --docker-password=YOUR_GITHUB_PAT \
#   -n task-manager

apiVersion: v1
kind: Secret
metadata:
  name: ghcr-secret
type: kubernetes.io/dockerconfigjson
data:
  # PLACEHOLDER: Replace with your actual dockerconfigjson
  .dockerconfigjson: REPLACE_WITH_YOUR_DOCKER_CONFIG_JSON_BASE64
